/**
 * Copyright 2016 TrueSoftware B.V. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var __extends=this&&this.__extends||function(d,b){function __(){this.constructor=d}for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p]);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)};XMLHttpRequest.prototype.sendAsBinary||(XMLHttpRequest.prototype.sendAsBinary=function(sData){for(var nBytes=sData.length,ui8Data=new Uint8Array(nBytes),nIdx=0;nBytes>nIdx;nIdx++)ui8Data[nIdx]=255&sData.charCodeAt(nIdx);this.send(ui8Data)}),Function.prototype.async||(Function.prototype.async=function(){var me=this,args=arguments;setTimeout(function(){me.apply(me,args)},1)}),String.prototype.inArray||(String.prototype.inArray=function(list){void 0===list&&(list=[]);for(var result=!1,i=0;i!==list.length;i++)if(list[i]===this){result=!0;break}return result}),String.prototype.repeat||(String.prototype.repeat=function(counts){return new Array(counts+1).join(this)}),String.prototype.startsWith||(String.prototype.startsWith=function(searchString,position){return void 0===position&&(position=0),position=position||0,this.substr(position,searchString.length)===searchString}),String.prototype.ucfirst||(String.prototype.ucfirst=function(){return this.charAt(0).toUpperCase()+this.slice(1)}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),Array.prototype.unique||(Array.prototype.unique=function(){return this.filter(function(item,i,allItems){return i===allItems.indexOf(item)})});var Blend;!function(Blend){var binding;!function(binding){var BindingProvider=function(){function BindingProvider(){}return BindingProvider.prototype.bindProperty=function(source,target,srcProp,trgProp){void 0===trgProp&&(trgProp=null),trgProp=trgProp||srcProp,this.bind(source,target,"set"+srcProp.ucfirst(),"set"+trgProp.ucfirst(),"get"+srcProp.ucfirst())},BindingProvider.prototype.bind=function(source,target,sourceMember,targetMember,usingMember){var orgSourceMember=source[sourceMember];source[sourceMember]=function(){var sr=orgSourceMember.apply(source,arguments);return target.applyFunction(targetMember,[null!==usingMember?source.applyFunction(usingMember,[sr]):sr]),sr}},BindingProvider}();binding.BindingProvider=BindingProvider}(binding=Blend.binding||(Blend.binding={}))}(Blend||(Blend={}));var Blend;!function(Blend){var Component=function(){function Component(config){void 0===config&&(config=null)}return Component.prototype.getProperty=function(name,defaultValue){void 0===defaultValue&&(defaultValue=null);var me=this;return void 0===me[name]?defaultValue:me[name]},Component.prototype.setProperty=function(name,value){var me=this;me[name]=value},Component.prototype.hasFunction=function(fname){var me=this;return!Blend.isNullOrUndef(me[fname])&&Blend.isFunction(me[fname])},Component.prototype.applyFunction=function(name,args){var me=this,fn=me[name];if(Blend.isFunction(fn))return fn.apply(me,args);throw new Error("Class method ["+name+"] does not exist!")},Component}();Blend.Component=Component}(Blend||(Blend={}));var Blend;!function(Blend){var dom;!function(dom){var ClassList=function(){function ClassList(htmlElement){var me=this;me.list=[],me.initList((htmlElement.getAttribute("class")||"").trim())}return ClassList.prototype.initList=function(css){var me=this;(""===css?[]:css.split(" ")).forEach(function(c){c=c.trim(),0!==c.length&&""!==c&&me.list.push(c)})},ClassList.prototype.serializeTo=function(htmlElement){var me=this,css=me.toString();null!==css&&""!==css&&0!==css.length?htmlElement.setAttribute("class",css):htmlElement.removeAttribute("class")},ClassList.prototype.removeLike=function(list){var me=this,n=[];list.forEach(function(r){me.list.forEach(function(i){i.startsWith(r)||n.push(i)})}),me.list=n},ClassList.prototype.remove=function(list){var me=this,i=-1;list.forEach(function(r){i=me.list.indexOf(r),-1!==i&&me.list.splice(i,1)})},ClassList.prototype.add=function(list){var me=this;list.forEach(function(i){me.has(i)||me.list.push(i)})},ClassList.prototype.clear=function(){this.list=[]},ClassList.prototype.has=function(n){return-1!==this.list.indexOf(n)},ClassList.prototype.toString=function(){var r=this.list.join(" ").trim();return""===r?null:r},ClassList.prototype.toArray=function(){return this.list},ClassList}();dom.ClassList=ClassList}(dom=Blend.dom||(Blend.dom={}))}(Blend||(Blend={}));var Blend;!function(Blend){var dom;!function(dom){var StyleList=function(){function StyleList(el){this.pixelRe=/px$/,this.UNIT="px",this.unitPropertyRe=/(width$|height$|size$|radius$|padding|margin$|top$|bottom$|right$|left$)/,this.unitTypeRe=/(em$|\%$|auto|^calc)/,this.initList(el.style.cssText.trim())}return StyleList.prototype.initList=function(data){var p,me=this;me.styles={},""!==data&&data.split(";").forEach(function(d){""!==d&&(p=d.split(":"),me.styles[p[0].trim()]=me.fromUnit(p[1].trim()))})},StyleList.prototype.set=function(name,value){this.styles[name]=value},StyleList.prototype.unset=function(name){delete this.styles[name]},StyleList.prototype.getComputed=function(el,names){var me=this,cs=window.getComputedStyle(el,null),r={};return names.forEach(function(key){r[key]=me.fromUnit(cs.getPropertyValue(key))}),r},StyleList.prototype.serializeTo=function(el){var me=this,style="";Object.keys(me.styles).forEach(function(name){style+=name+":"+me.toUnit(name,me.styles[name])+";"}),""!==style&&(el.style.cssText=style)},StyleList.prototype.toUnit=function(key,value){var me=this;return null!==value&&me.unitPropertyRe.test(key)&&!me.unitTypeRe.test(value)&&(value+=me.UNIT),value},StyleList.prototype.fromUnit=function(value){var me=this;return null!==value&&me.pixelRe.test(value)&&(value=parseFloat(value.replace(me.UNIT,""))),value},StyleList}();dom.StyleList=StyleList}(dom=Blend.dom||(Blend.dom={}))}(Blend||(Blend={}));var Blend;!function(Blend){var dom;!function(dom){var Element=function(_super){function Element(el){_super.call(this),this.pixelRe=/px$/,this.UNIT="px",this.unitPropertyRe=/(width$|height$|size$|radius$|padding|margin$|top$|bottom$|right$|left$)/,this.unitTypeRe=/(em$|\%$|auto|^calc)/,this.el=el,this.classList=new Blend.dom.ClassList(this.el),this.styleList=new Blend.dom.StyleList(this.el)}return __extends(Element,_super),Element.prototype.setAttribute=function(name,value){var me=this;return me.el.setAttribute.apply(me.el,arguments),me},Element.prototype.removeAttribute=function(name){var me=this;return me.el.removeAttribute(name),me},Element.prototype.getFiles=function(){var me=this,fel=me.el;return fel.files?fel.files:new FileList},Element.prototype.addEventListener=function(eventName,eventHandler){Blend.Runtime.addEventListener(this.el,eventName,eventHandler)},Element.prototype.removeEventListener=function(eventName,eventHandler){Blend.Runtime.removeEventListener(this.el,eventName,eventHandler)},Element.prototype.getBounds=function(){var borderSize,bounds=this.getStyle(["top","left","width","height","visible"]);return Blend.Runtime.IE&&Blend.Runtime.IEVersion<12?(borderSize=this.getStyle(["border-top-width","border-right-width","border-bottom-width","border-left-width"]),bounds.width+=borderSize["border-left-width"]+borderSize["border-right-width"],bounds.height+=borderSize["border-top-width"]+borderSize["border-bottom-width"],bounds):bounds},Element.prototype.setStyle=function(styles){var me=this;return styles&&(Blend.forEach(styles,function(v,k){null===v||"auto"===v?me.styleList.unset(k):me.styleList.set(k,v)}),me.styleList.serializeTo(me.el)),this},Element.prototype.getStyle=function(styles){return this.styleList.getComputed(this.el,Blend.wrapInArray(styles))},Element.prototype.getCssClass=function(asArray){return void 0===asArray&&(asArray=!1),asArray===!0?this.classList.toArray():this.classList.toString()},Element.prototype.hasCssClass=function(name){return this.classList.has(name)},Element.prototype.addCssClass=function(css,replace){void 0===replace&&(replace=!1);var me=this;return replace===!0&&this.classList.clear(),me.classList.add(Blend.wrapInArray(css)),me.classList.serializeTo(me.el),this},Element.prototype.removeCssClass=function(css){var me=this;return me.classList.remove(Blend.wrapInArray(css)),me.classList.serializeTo(me.el),this},Element.prototype.removeCssClassLike=function(css){var me=this;return me.classList.removeLike(Blend.wrapInArray(css)),me.classList.serializeTo(me.el),this},Element.prototype.clearCssClass=function(){return this.classList.clear(),this},Element.prototype.clearElement=function(){var me=this;if(me.el)for(;me.el.firstChild;)me.el.removeChild(me.el.firstChild)},Element.prototype.setData=function(name,value){return this.el.setAttribute("data-"+name,value),this},Element.prototype.getData=function(name,defaultValue){void 0===defaultValue&&(defaultValue=null);var me=this,attr="data-"+name;return me.el.hasAttribute(attr)?me.el.getAttribute(attr):defaultValue},Element.prototype.scrollState=function(state){var me=this;return me.setData("scroll",Blend.eScrollState[state]),this},Element.prototype.selectable=function(state){this.setData("selectable",state===!0?"on":"off")},Element.prototype.getEl=function(){return this.el},Element.prototype.append=function(child){return this.el.appendChild(child.getEl()),child},Element.prototype.remove=function(){var pNode,cNode,me=this;cNode=me.el,pNode=cNode.parentNode||null,pNode&&pNode.removeChild(cNode)},Element.prototype.setHtml=function(html){return this.el.innerHTML=html,this},Element.prototype.setPadding=function(value){var me=this;return Blend.isNumeric(value)?me.setStyle({padding:value}):me.setStyle({"padding-top":value.top||null,"padding-right":value.right||null,"padding-bottom":value.bottom||null,"padding-left":value.left||null}),this},Element.prototype.getHtml=function(){return this.el.innerHTML},Element.create=function(conf,elCallback,elCallbackScope){var config;if(config=Blend.isInstanceOf(conf,Blend.dom.ElementConfigBuilder)?conf.getConfig():conf,Blend.isObject(config)){var el=document.createElement(config.tag||"div");for(var cfg in config){var val=config[cfg];if("tag"!==cfg&&"scope"!==cfg&&"oid"!==cfg){if("cls"===cfg)cfg="class",Blend.isArray(val)&&(val=val.join(" "));else if("innerHTML"===cfg)cfg=null,el.innerHTML=val;else if("text"===cfg){cfg=null;var textNd=document.createTextNode(val);el.appendChild(textNd)}else if("listeners"===cfg&&Blend.isObject(val)){cfg=null;for(var e in val){var handler=val[e];Blend.Runtime.addEventListener(el,e,function(){handler.apply(config.scope||window,arguments)})}}else"children"===cfg?(Blend.isArray(val)||(val=[val]),val.forEach(function(child){child instanceof HTMLElement?el.appendChild(child):child instanceof Blend.dom.Element?el.appendChild(child.getEl()):child instanceof Blend.dom.ElementConfigBuilder?el.appendChild(Blend.dom.Element.create(child,elCallback,elCallbackScope).getEl()):el.appendChild(Blend.dom.Element.create(child,elCallback,elCallbackScope).getEl())}),cfg=null):"data"===cfg?(Blend.forEach(val,function(v,k){el.setAttribute("data-"+k,v)}),cfg=null):"style"===cfg?(cfg=null,Blend.getElement(el).setStyle(val)):"selectable"===cfg&&(val===!1&&Blend.getElement(el).selectable(!1),cfg=null);cfg&&el.setAttribute(cfg,val)}}var wEl=new Blend.dom.Element(el);return elCallback&&config.oid&&elCallback.apply(elCallbackScope||window,[wEl,config.oid]),wEl}return Blend.createElement({})},Element}(Blend.Component);dom.Element=Element}(dom=Blend.dom||(Blend.dom={}))}(Blend||(Blend={}));var Blend;!function(Blend){function selectElement(query,from){void 0===from&&(from=null);var els=Blend.selectElements(query,from);return els[0]||null}function selectElements(query,from){void 0===from&&(from=null);var els=[];return Blend.forEach(((from?from.getEl():null)||document).querySelectorAll(query),function(el){Blend.isInstanceOf(el,HTMLElement)&&els.push(new Blend.dom.Element(el))}),els}function getElement(el){return Blend.isString(el)?new Blend.dom.Element(document.getElementById(el)):new Blend.dom.Element(el)}Blend.createElement=Blend.dom.Element.create,Blend.selectElement=selectElement,Blend.selectElements=selectElements,Blend.getElement=getElement}(Blend||(Blend={}));var Blend;!function(Blend){var RuntimeSingleton=function(){function RuntimeSingleton(){this.kickStarted=!1,this.Binder=new Blend.binding.BindingProvider,this.mediaQueryRegistery={},this.mediaQueryMatchers={}}return RuntimeSingleton.prototype.triggerMediaQueryCheck=function(){var me=this;Blend.forEach(me.mediaQueryMatchers,function(mql,mediaQuery){return mql.matches&&me.previousMediaQuery!==mediaQuery?(me.mediaQueryRegistery[mediaQuery].forEach(function(fn){fn.apply(me,[mql])}),me.previousMediaQuery=mediaQuery,!1):void 0})},RuntimeSingleton.prototype.addMediaQueryListener=function(mediaQuery,listener){var me=this;if(void 0===me.mediaQueryRegistery[mediaQuery]){me.mediaQueryRegistery[mediaQuery]=[];var mql=window.matchMedia(mediaQuery);me.mediaQueryMatchers[mediaQuery]=mql,mql.addListener(function(){me.triggerMediaQueryCheck()})}me.mediaQueryRegistery[mediaQuery].push(listener)},RuntimeSingleton.prototype.isSupportedBrowser=function(){var me=this,ie=me.detectIE();return me.IE=0!==ie,me.IEVersion=ie,0!==ie&&11>ie?(document.write('<div id="noblend">Unable to run this application. Please upgrade your Internet Explorer to version 11 or above, otherwise use Google Chrome or Firefox!</div>'),!1):!0},RuntimeSingleton.prototype.reset=function(){var me=this;me.readyCallbacks=[]},RuntimeSingleton.prototype.ready=function(callback,scope){var me=this;return me.readyCallbacks||(me.readyCallbacks=[]),me.readyCallbacks.push({fn:callback,sc:scope||me}),this},RuntimeSingleton.prototype.kickStart=function(){var me=this,didRun=!1,doCallback=function(){didRun===!1&&(didRun=!0,me.isSupportedBrowser()&&Blend.forEach(me.readyCallbacks,function(item){item.fn.apply(item.sc,[])})),me.readyCallbacks=[]};me.kickStarted?doCallback.apply(me,[]):(me.kickStarted=!0,"complete"===document.readyState?doCallback.apply(me,[]):(me.addEventListener(document,"DOMContentLoaded",doCallback),me.addEventListener(window,"load",doCallback)))},RuntimeSingleton.prototype.addEventListener=function(el,eventName,eventHandler){-1!==eventName.indexOf(" ")?eventName.split(" ").forEach(function(eName){eName=eName.trim(),0!==eName.length&&el.addEventListener(eName,eventHandler,!1)}):el.addEventListener(eventName,eventHandler,!1)},RuntimeSingleton.prototype.removeEventListener=function(el,eventName,eventHandler){-1!==eventName.indexOf(" ")?eventName.split(" ").forEach(function(eName){eName=eName.trim(),0!==eName.length&&el.removeEventListener(eName,eventHandler,!1)}):el.removeEventListener(eventName,eventHandler,!1)},RuntimeSingleton.prototype.detectIE=function(){var ua=window.navigator.userAgent,msie=ua.indexOf("MSIE ");if(msie>0)return parseInt(ua.substring(msie+5,ua.indexOf(".",msie)),10);var trident=ua.indexOf("Trident/");if(trident>0){var rv=ua.indexOf("rv:");return parseInt(ua.substring(rv+3,ua.indexOf(".",rv)),10)}var edge=ua.indexOf("Edge/");return edge>0?parseInt(ua.substring(edge+5,ua.indexOf(".",edge)),10):0},RuntimeSingleton}();Blend.RuntimeSingleton=RuntimeSingleton,Blend.Runtime=new RuntimeSingleton}(Blend||(Blend={}));var Blend;!function(Blend){function bind(scope,fn){return function(){fn.apply(scope,arguments)}}function newID(){return ID++}function parseEnum(objEnum,value,defaultValue){return void 0===defaultValue&&(defaultValue=null),Blend.isString(value)?void 0===objEnum[value]?defaultValue:objEnum[value]:void 0===objEnum[objEnum[value]]?defaultValue:objEnum[objEnum[value]]}function isFunction(value){return"function"==typeof value}function isString(value){return"string"==typeof value}function isNullOrUndef(value){return null===value||void 0===value}function isArray(value){return"[object Array]"===Object.prototype.toString.apply(value)}function isNumeric(value){return value-parseFloat(value)>=0}function isObject(value){return"object"==typeof value&&"function"!=typeof value&&null!==value&&void 0!==value&&!Blend.isArray(value)}function wrapInArray(obj){return Blend.isArray(obj)?obj:Blend.isNullOrUndef(obj)?[]:[obj]}function apply(target,source,overwrite,mergeArrays){void 0===overwrite&&(overwrite=!1),void 0===mergeArrays&&(mergeArrays=!1);var key,targetKeys=Object.keys(target||{}),targetHasKey=function(key){return-1!==targetKeys.indexOf(key)};if(overwrite=overwrite||!1,mergeArrays=mergeArrays||!1,target&&source)for(key in source)key&&source.hasOwnProperty(key)&&(targetHasKey(key)&&Blend.isObject(target[key])?overwrite?target[key]=source[key]:Blend.apply(target[key],source[key]):targetHasKey(key)&&Blend.isArray(target[key])&&mergeArrays===!0?target[key]=target[key].concat(Blend.wrapInArray(source[key])):targetHasKey(key)&&overwrite?target[key]=source[key]:Blend.isNullOrUndef(target[key])&&(target[key]=source[key]));return target}function isBoolean(value){return"boolean"==typeof value}function isInstanceOf(obj,clazz){if(null===obj||void 0===obj)return!1;var hc="[object HTMLCollection]";if(obj.toString()===hc&&"HTMLCollection"===clazz)return!0;if(Blend.isString(clazz)){var fn=new Function(""," try { return "+clazz+" } catch(e) { return null };");clazz=fn()}try{var res=obj instanceof clazz;return res}catch(e){return!1}}function forEach(obj,callback,scope){if("undefined"==typeof HTMLCollection)var HTMLCollection=function(){};var key;if(obj){if(Blend.isFunction(obj))return;if(Blend.isArray(obj)){var length=obj.length;for(key=0;length>key&&callback.call(scope,obj[key],parseInt(key),obj)!==!1;key++);}else if(Blend.isInstanceOf(obj,"HTMLCollection")){var key,el,length=obj.length;for(key=0;key!==length&&(el=obj.item(key),"length"===key||callback.call(scope,el,parseInt(key),obj)!==!1);key++);}else for(key in obj)if(obj.hasOwnProperty(key)&&callback.call(scope,obj[key],key,obj)===!1)break}}function createComponent(clazz,config){if(void 0===config&&(config=null),"string"==typeof clazz){if(Blend.registry[clazz])return Blend.createComponent(Blend.registry[clazz],config);throw new Error("Unknown class alias "+clazz)}if(Blend.isClass(clazz))return new clazz(config||{});if(null!==clazz&&void 0!==clazz&&"object"==typeof clazz&&clazz.ctype){var ctype=clazz.ctype;return delete clazz.ctype,Blend.createComponent(ctype,Blend.apply(clazz,config))}throw new Error("Unable to create an object from "+clazz)}function isClass(clazz){return"function"==typeof clazz&&!!Object.keys(clazz.prototype).length==!0}function registerClassWithAlias(alias,clazz){if(Blend.registry[alias])throw new Error("A Class with alias "+alias+" is already registered!");Blend.registry[alias]=clazz}var eMediaQuery=function(){function eMediaQuery(){}return eMediaQuery.LARGE="L",eMediaQuery.MEDIUM="M",eMediaQuery.SMALL="S",eMediaQuery}();Blend.eMediaQuery=eMediaQuery,function(eScrollState){eScrollState[eScrollState.none=0]="none",eScrollState[eScrollState.auto=1]="auto",eScrollState[eScrollState.both=2]="both",eScrollState[eScrollState.horizontal=3]="horizontal",eScrollState[eScrollState.vertical=4]="vertical"}(Blend.eScrollState||(Blend.eScrollState={}));Blend.eScrollState;Blend.registry={},Blend.DEBUG=!1;var ID=1e3;Blend.COMMON_MEDIA_QUERIES={},Blend.COMMON_MEDIA_QUERIES[eMediaQuery.LARGE]="(min-width : 840px)",Blend.COMMON_MEDIA_QUERIES[eMediaQuery.MEDIUM]="(min-width: 480px) and (max-width: 839px)",Blend.COMMON_MEDIA_QUERIES[eMediaQuery.SMALL]="(max-width : 479px)",Blend.bind=bind,Blend.newID=newID,Blend.parseEnum=parseEnum,Blend.isFunction=isFunction,Blend.isString=isString,Blend.isNullOrUndef=isNullOrUndef,Blend.isArray=isArray,Blend.isNumeric=isNumeric,Blend.isObject=isObject,Blend.wrapInArray=wrapInArray,Blend.apply=apply,Blend.isBoolean=isBoolean,Blend.isInstanceOf=isInstanceOf,Blend.forEach=forEach,Blend.createComponent=createComponent,Blend.isClass=isClass,Blend.registerClassWithAlias=registerClassWithAlias}(Blend||(Blend={}));var Blend;!function(Blend){Blend.version="v0.0.2"}(Blend||(Blend={}));var Blend;!function(Blend){var ajax;!function(ajax){var AjaxRequest=function(_super){function AjaxRequest(config){_super.call(this);var cfg,me=this;cfg=Blend.isString(config)?{url:config||null}:config,me.url=cfg.url||null,me.headers=cfg.headers||{},me.onComplete=cfg.onComplete||null,me.onProgress=cfg.onProgress||null,me.onFailed=cfg.onFailed||null,me.onSuccess=cfg.onSuccess||null,me.onStart=cfg.onStart||null,me.onPrepareUpload=cfg.onPrepareUpload||null,me.scope=cfg.scope|me,me.xhrConfig={withCredentials:cfg.withCredentials===!0},me.initialize()}return __extends(AjaxRequest,_super),AjaxRequest.prototype.initialize=function(){var me=this,handlers={progress:me.updateProgress,load:me.transferComplete,error:me.transferFailed,abort:me.transferCanceled};me.xhr=new XMLHttpRequest,Blend.forEach(handlers,function(handler,eventName){me.xhr.addEventListener(eventName,function(evt){handler.apply(me,[me.xhr,evt])})}),Blend.forEach(me.headers,function(value,header){me.xhr.setRequestHeader(header,value)}),Blend.forEach(me.xhrConfig,function(value,key){me.xhr[key]=value})},AjaxRequest.prototype.sendRequest=function(data){void 0===data&&(data={});var me=this;me.callID=(new Date).getTime(),me.callHandler("onStart",arguments)!==!1?me.doSendRequest(data):me.transferCanceled(me.xhr,null)},AjaxRequest.prototype.updateProgress=function(request,evt){var me=this;me.callHandler("onProgress",arguments)},AjaxRequest.prototype.transferComplete=function(request,evt){var me=this;request.status>=300?me.transferFailed.apply(me,arguments):request.status<300&&me.callHandler("onSuccess",arguments),me.callHandler("onComplete",arguments)},AjaxRequest.prototype.transferFailed=function(request,evt){var me=this;me.callHandler("onFailed",arguments)},AjaxRequest.prototype.transferCanceled=function(request,evt){var me=this;me.transferFailed(request,evt)},AjaxRequest.prototype.notifyPrepareUpload=function(file,status){this.callHandler("onPrepareUpload",arguments)},AjaxRequest.prototype.callHandler=function(name,args){var me=this;return me[name]?me[name].apply(me.scope||me,args):void 0},AjaxRequest.prototype.encodeURIComponent=function(value){return encodeURIComponent(value).replace(/[!'()*]/g,function(c){return"%"+c.charCodeAt(0).toString(16)})},AjaxRequest.prototype.urlEncodeData=function(data){var me=this,payload=[];return Blend.forEach(data,function(value,key){payload.push(key+"="+me.encodeURIComponent(value))}),payload.join("&").trim()},AjaxRequest.prototype.createURI=function(data){void 0===data&&(data={});var me=this;return data=data||{},data._c=me.callID,me.url+(-1===me.url.indexOf("?")?"?":"&")+me.urlEncodeData(data)},AjaxRequest}(Blend.Component);ajax.AjaxRequest=AjaxRequest}(ajax=Blend.ajax||(Blend.ajax={}))}(Blend||(Blend={}));var Blend;!function(Blend){var ajax;!function(ajax){var AjaxGetRequest=function(_super){function AjaxGetRequest(){_super.apply(this,arguments)}return __extends(AjaxGetRequest,_super),AjaxGetRequest.prototype.doSendRequest=function(data){void 0===data&&(data={});var me=this;me.xhr.open("GET",me.createURI(data),!0),me.xhr.send(null)},AjaxGetRequest}(Blend.ajax.AjaxRequest);ajax.AjaxGetRequest=AjaxGetRequest}(ajax=Blend.ajax||(Blend.ajax={}))}(Blend||(Blend={}));var Blend;!function(Blend){var ajax;!function(ajax){var AjaxPostRequest=function(_super){function AjaxPostRequest(){_super.apply(this,arguments),this.arrayBufferToString=function(result){for(var binary="",bytes=new Uint8Array(result),length=bytes.byteLength,i=0;length>i;i++)binary+=String.fromCharCode(bytes[i]);return binary}}return __extends(AjaxPostRequest,_super),AjaxPostRequest.prototype.doSendRequest=function(data){void 0===data&&(data={});var me=this;me.readyToSend=!0,me.boundary="!!@@##"+me.callID+"##@@!!",me.dataItemHeader="--"+me.boundary+"\r\nContent-Disposition: form-data;",me.xhr.open("POST",me.createURI(),!0),me.xhr.setRequestHeader("Content-Type","multipart/form-data; boundary="+me.boundary),me.boundaryEncodeData(data,function(encodedData){me.xhr.setRequestHeader("Content-Length",encodedData.length.toString()),me.xhr.sendAsBinary(encodedData)})},AjaxPostRequest.prototype.boundaryEncodeData=function(data,callback){var me=this,pendingConverts=0,payload=[];Blend.forEach(data,function(value,key){Blend.isInstanceOf(value,FileList)?pendingConverts+=me.encodeFileList(value,payload,function(){pendingConverts-=1}):payload.push(me.encodeDataItem(key,value))});var waitId=setInterval(function(){0===pendingConverts&&(clearInterval(waitId),payload.push("--"+me.boundary+"--\r\n"),callback.apply(me,[payload.join("")]))},250)},AjaxPostRequest.prototype.encodeFileList=function(files,payload,onFinish){var currentFile,filetype,me=this,nextFile=0,reader=new FileReader;reader.onload=function(evt){filetype=""===currentFile.type?"application/octet-stream":currentFile.type,payload.push(me.dataItemHeader+' name="'+currentFile.name+'"; filename="'+currentFile.name+'"\r\nContent-Type: '+filetype+"\r\n\r\n"+me.arrayBufferToString(reader.result)+"\r\n"),onFinish.apply(me,[]),me.notifyPrepareUpload(currentFile,2),nextFile+=1,doWork()},reader.onprogress=function(evt){me.notifyPrepareUpload(currentFile,1)};var doWork=function(){files[nextFile]&&(currentFile=files[nextFile],me.notifyPrepareUpload(currentFile,0),reader.readAsArrayBuffer(currentFile))};return doWork(),files.length},AjaxPostRequest.prototype.encodeDataItem=function(key,value){var me=this;return me.dataItemHeader+' name="'+key+'"\r\n\r\n'+value+"\r\n"},AjaxPostRequest}(Blend.ajax.AjaxRequest);ajax.AjaxPostRequest=AjaxPostRequest}(ajax=Blend.ajax||(Blend.ajax={}))}(Blend||(Blend={}));var Blend;!function(Blend){var mvc;!function(mvc){var Client=function(_super){function Client(config){void 0===config&&(config={}),_super.call(this,config);var me=this;me.controllers=[],me.addController(config.controller||[])}return __extends(Client,_super),Client.prototype.fireEventWithScope=function(scope,eventName,args){var me=this;me.controllers&&Blend.forEach(me.controllers,function(controller){controller.delegate?controller.delegate(eventName,scope,args):controller.apply(scope,[scope,eventName].concat(args))})},Client.prototype.addController=function(controllers){var ctrl,me=this;Blend.forEach(Blend.wrapInArray(controllers),function(item){if(Blend.isClass(item)||Blend.isString(item)?ctrl=Blend.createComponent(item):Blend.isObject(item)?ctrl=item:Blend.isFunction(item)&&(ctrl=item),Blend.isInstanceOf(ctrl,Blend.mvc.Controller))ctrl.bindView(me),me.controllers.push(ctrl);else{if(!Blend.isFunction(ctrl))throw new Error(ctrl+" is not a valid Blend.mvc.Controller");me.controllers.push(function(){return ctrl.apply(me,arguments)})}})},Client}(Blend.Component);mvc.Client=Client}(mvc=Blend.mvc||(Blend.mvc={}))}(Blend||(Blend={}));var Blend;!function(Blend){var mvc;!function(mvc){var View=function(_super){function View(config){void 0===config&&(config={}),_super.call(this,config);var me=this;me.reference=config.reference||null,me.currentEventName=null,me.setContext(config.context||null),me.disableEvents()}return __extends(View,_super),View.prototype.setContext=function(context){var me=this;me.context=context},View.prototype.hasContext=function(){return!Blend.isNullOrUndef(this.context)},View.prototype.disableEvents=function(){return this.eventsEnabled=!1,this},View.prototype.enableEvents=function(){return this.eventsEnabled=!0,this},View.prototype.getReference=function(){return this.reference||null},View.prototype.canFireEvents=function(){return this.eventsEnabled===!0},View.prototype.fireEvent=function(eventName){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];var me=this;return me.currentEventName=eventName,me.canFireEvents()===!0&&(this.fireEventWithScope(me,eventName,args),null!==me.context&&me.context.delegate(eventName,me,args)),this},View}(Blend.mvc.Client);mvc.View=View}(mvc=Blend.mvc||(Blend.mvc={}))}(Blend||(Blend={}));var Blend;!function(Blend){var mvc;!function(mvc){var Controller=function(_super){function Controller(config){void 0===config&&(config={}),_super.call(this,config),this.handlers={},this.initEvents()}return __extends(Controller,_super),Controller.prototype.initEvents=function(){},Controller.prototype.delegate=function(eventName,view,args){var me=this,reference=view.getReference?view.getReference():"",handlers=me.handlers[eventName]||me.handlers[reference+"."+eventName]||null;handlers&&0!==handlers.length&&handlers.forEach(function(handler){setTimeout(function(){try{handler.apply(me,[view].concat(args))}catch(error){}},2)})},Controller.prototype.on=function(eventName,handler){var me=this;me.handlers[eventName]?me.handlers[eventName].push(handler):me.handlers[eventName]=[handler]},Controller.prototype.bindView=function(view){var me=this,reference=view.getReference?view.getReference():null;null!==reference&&(null===me[reference]?me[reference]=view:Blend.isArray(me[reference])&&me[reference].push(view))},Controller}(Blend.Component);mvc.Controller=Controller}(mvc=Blend.mvc||(Blend.mvc={}))}(Blend||(Blend={}));var Blend;!function(Blend){var mvc;!function(mvc){var Context=function(_super){function Context(){_super.apply(this,arguments)}return __extends(Context,_super),Context.prototype.delegate=function(eventName,sender,args){this.fireEventWithScope(sender,eventName,args)},Context}(Blend.mvc.Client);mvc.Context=Context}(mvc=Blend.mvc||(Blend.mvc={}))}(Blend||(Blend={}));var Blend;!function(Blend){var material;!function(material){var Material=function(_super){function Material(config){void 0===config&&(config={}),_super.call(this,config);var me=this;me.isInitialized=!1,me.parent=config.parent||null,me.useParentControllers=config.useParentController||!1,me.isRendered=!1,me.visible=!0,me.config={css:[],style:{},visible:!0,top:null,left:null,width:null,height:null,responsive:config.responsive||!1,responseTo:config.responseTo||null},me.addCssClass(config.css||[]),me.setStyle(config.style||{}),me.setVisible(Blend.isBoolean(config.visible)?config.visible:me.visible),me.setBounds({top:config.top||null,left:config.left||null,width:config.width||null,height:config.height||null}),me.initializeResponsiveEvents(),me.canLayout=!0}return __extends(Material,_super),Material.prototype.updateLayout=function(){},Material.prototype.performLayout=function(){var me=this;me.canLayout===!0&&(me.suspendLayout(),me.updateLayout(),me.resumeLayout())},Material.prototype.suspendLayout=function(){this.canLayout=!1},Material.prototype.resumeLayout=function(){this.canLayout=!0},Material.prototype.assignElementByOID=function(el,oid){var me=this;null===me[oid]&&(me[oid]=el)},Material.prototype.initializeResponsiveEvents=function(){var config,me=this;config=me.config.responsive===!0?Blend.COMMON_MEDIA_QUERIES:me.config.responseTo||null,null!==config&&Blend.forEach(config,function(queries,alias){queries=Blend.wrapInArray(queries),queries.forEach(function(mediaQuery){Blend.Runtime.addMediaQueryListener(mediaQuery,function(mql){me.fireEvent("responsiveChanged",alias,mql)})})})},Material.prototype.getProperty=function(name,defaultValue){void 0===defaultValue&&(defaultValue=null);var me=this;return 0===name.indexOf("config.",0)?(name=name.replace("config.","").trim(),void 0===me.config[name]?defaultValue:me.config[name]):_super.prototype.getProperty.call(this,name,defaultValue)},Material.prototype.render=function(){return Blend.dom.Element.create({})},Material.prototype.notifyMaterialInitialized=function(){var me=this;me.fireEvent("materialInitialized",me)},Material.prototype.doInitialize=function(){var me=this;return me.initEvents(),me.initialize(),me.performLayout(),me.notifyMaterialInitialized(),me},Material.prototype.initialize=function(){},Material.prototype.initEvents=function(){},Material.prototype.canFireEvents=function(){var state,me=this;return state=_super.prototype.canFireEvents.call(this)?null!==me.parent?me.parent.canFireEvents():!0:!1,state===!1&&"materialInitialized"===me.currentEventName?!0:state},Material.prototype.getBounds=function(){var me=this;return me.isRendered?me.element.getBounds():null},Material.prototype.setBounds=function(bounds){var me=this,nullBounds={top:null,left:null,width:null,height:null};return me.isRendered?me.setStyle(null===bounds?nullBounds:bounds):Blend.apply(me.config,null===bounds?nullBounds:bounds),
me.notifyBoundsChanged(),this},Material.prototype.notifyBoundsChanged=function(){var me=this;me.isRendered&&me.fireEvent("boundsChanged",me.getBounds())},Material.prototype.setVisible=function(visible){void 0===visible&&(visible=!0);var me=this;return me.visible=visible===!0,me.isRendered?me.element.setData("visible",me.visible):me.config.visible=me.visible,me.notifyVisibilityChanged(),this},Material.prototype.isVisible=function(){var me=this;return me.visible},Material.prototype.notifyVisibilityChanged=function(){var me=this;me.fireEvent("visibilityChanged",me.visible)},Material.prototype.setStyle=function(style){var me=this;me.isRendered?me.element.setStyle(style):Blend.apply(me.config.style,style,!1,!0),me.notifyStyleOrCSSChanged()},Material.prototype.addCssClass=function(css){var me=this;me.isRendered?me.element.addCssClass(css):Blend.wrapInArray(css).forEach(function(itm){me.config.css.push(itm)}),me.notifyStyleOrCSSChanged()},Material.prototype.notifyStyleOrCSSChanged=function(){var me=this;me.fireEvent("styleChanged",me.visible)},Material.prototype.finalizeRender=function(){var me=this;if(me.addCssClass(me.config.css),me.setBounds({top:me.config.top,left:me.config.left,width:me.config.width,height:me.config.height}),me.setStyle(me.config.style),me.visible||me.setVisible(!1),Blend.DEBUG===!0){var id="m"+Blend.newID();me.element.getEl().setAttribute("id",id),window[id]=me}},Material.prototype.getElement=function(){var me=this;return me.isRendered||(me.disableEvents(),me.element=me.render(),me.isRendered=!0,me.finalizeRender(),me.enableEvents()),me.element},Material.prototype.destroy=function(){var me=this;me.element.remove(),Blend.forEach(me,function(value,key){me[key]=null,delete me[key]})},Material}(Blend.mvc.View);material.Material=Material}(material=Blend.material||(Blend.material={}))}(Blend||(Blend={}));var Blend;!function(Blend){var application;!function(application){var Application=function(_super){function Application(config){void 0===config&&(config={}),_super.call(this,Blend.apply(config,{responsive:!0}));var me=this;me.isStarted=!1,me.isResizing=!1,me.config.mainView=config.mainView||null,me.config.theme=config.theme||"default",me.config.style={},me.setContext(new Blend.mvc.Context),me.createMainView()}return __extends(Application,_super),Application.prototype.notifyApplicationResized=function(evt){var me=this;me.fireEvent("applicationResized",evt)},Application.prototype.onWindowResize=function(){var me=this;me.isResizing||(me.isResizing=!0,me.notifyApplicationResized.apply(me,arguments),me.isResizing=!1)},Application.prototype.setupWindowListeners=function(){var me=this,tm=-1,counts=0,curSize=-1;Blend.Runtime.addEventListener(window,"resize",function(evt){curSize=window.innerWidth+window.innerHeight,clearInterval(tm),tm=setInterval(function(){counts>=3?curSize===window.innerWidth+innerHeight?(clearInterval(tm),me.onWindowResize.apply(me,[evt])):counts=0:counts++},50)})},Application.prototype.notifyApplicationReady=function(){var me=this;me.fireEvent("applicationReady")},Application.prototype.performInitialMediaQuery=function(){Blend.Runtime.triggerMediaQueryCheck()},Application.prototype.asyncRun=function(){var me=this,body=Blend.getElement(document.body);me.isStarted||(body.clearElement(),body.addCssClass(me.config.theme,!1),body.append(me.getElement()),me.setupWindowListeners(),me.performInitialMediaQuery(),me.doInitialize(),me.notifyApplicationReady(),me.isStarted=!0)},Application.prototype.createMainView=function(){var me=this;if(!me.config.mainView)throw new Error("Missing or invalid mainView!");if(me.mainView=Blend.createComponent(me.config.mainView,{parent:me}),!Blend.isInstanceOf(me.mainView,Blend.material.Material))throw new Error("The provide mainView is not a valid View instance!");me.setContext(me.context),me.mainView.addCssClass("mb-mainview"),me.mainView.getProperty("useParentController",!0)===!0&&me.mainView.addController(me.controllers)},Application.prototype.renderMainView=function(){return this.mainView.getElement()},Application.prototype.finalizeRender=function(){var me=this;_super.prototype.finalizeRender.call(this),me.mainView.setBounds({top:null,left:null,width:null,height:null}),me.mainView.setStyle({display:null})},Application.prototype.render=function(){var me=this;return Blend.dom.Element.create({cls:["mb-application"],children:[me.renderMainView()]})},Application.prototype.run=function(){var me=this;me.isStarted||(Blend.Runtime.ready(function(){me.asyncRun.apply(me,arguments)},me),Blend.Runtime.kickStart())},Application}(Blend.material.Material);application.Application=Application}(application=Blend.application||(Blend.application={}))}(Blend||(Blend={}));var Blend;!function(Blend){var material;!function(material){var effect;!function(effect){var Ripple=function(_super){function Ripple(config){void 0===config&&(config={}),_super.call(this,config);var me=this;me.removeQueue=[],me.rippleDuration=350,me.skipMouseEvent=!1,me.center=config.center===!0,me.element=config.element||null,null!==me.element&&(me.bindEvents(),me.setRippleColor(config.color||null))}return __extends(Ripple,_super),Ripple.prototype.bindEvents=function(){var me=this;me.element.getProperty("hasRipple",!1)===!1&&(me.element.addEventListener("mousedown",Blend.bind(me,me.handleDownEvent)),me.element.addEventListener("mouseup mouseleave",Blend.bind(me,me.handleHandleUpEvent)),me.element.setProperty("hasRipple",!0),me.createRippleContainer())},Ripple.prototype.createRippleContainer=function(){var me=this,copyStyles=me.element.getStyle(["border-radius","border-color","border-width","border-style"]);me.container=me.element.append(Blend.createElement({cls:"mb-ripple-container",style:copyStyles}))},Ripple.prototype.handleDownEvent=function(evt){var top,left,mouseEvent,me=this;if(me.center===!0)left=me.container.getEl().clientWidth/2,top=me.container.getEl().clientHeight/2;else if(mouseEvent=evt,mouseEvent.srcElement!==me.container.getEl()){var crect=me.container.getEl().getBoundingClientRect();left=mouseEvent.clientX-crect.left,top=mouseEvent.clientY-crect.top}else left=evt.offsetX,top=evt.offsetY;me.initiateRipple(left,top)},Ripple.prototype.handleHandleUpEvent=function(){for(var me=this;0!==me.removeQueue.length;){var ripple=me.removeQueue.splice(0,1)[0];setTimeout(function(){ripple.removeCssClass(["mb-ripple-active"]),setTimeout(function(){ripple.getEl().parentNode.removeChild(ripple.getEl())},2e3)},.4*me.rippleDuration)}},Ripple.prototype.initiateRipple=function(left,top){var me=this,ripple=me.container.append(Blend.createElement({cls:["mb-ripple"],style:{top:top,left:left}})),width=me.element.getEl().clientWidth,height=me.element.getEl().clientHeight,x=2*Math.max(Math.abs(width-left),left),y=2*Math.max(Math.abs(height-top),top),size=Math.sqrt(Math.pow(x,2)+Math.pow(y,2));ripple.setStyle({width:size,height:size,"background-color":me.color}),ripple.addCssClass(["mb-ripple-placed"]),setTimeout(function(){ripple.addCssClass(["mb-ripple-scaled"]),ripple.addCssClass(["mb-ripple-active"])},5),me.removeQueue.push(ripple)},Ripple.prototype.hexToRgb=function(value){if(Blend.isString(value)&&0!==value.length&&"#"===value[0]){if(4===value.length){var t=value.split("");value="#"+t[1]+t[1]+t[2]+t[2]+t[3]+t[3]}if(7===value.length){var p=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(value);return p?"rgba("+parseInt(p[1],16)+","+parseInt(p[2],16)+","+parseInt(p[3],16)+")":null}}return value},Ripple.prototype.setRippleColor=function(color){var clr,me=this,opacity=.95,prop="color",defaultColor="rgb(0,0,0)";if(Blend.isInstanceOf(color,Blend.dom.Element))clr=color.getStyle(prop)[prop];else{if(clr=color,clr&&0!==clr.length&&clr[0].inArray([".","#"])){var el=Blend.selectElement(clr,me.element);el&&(clr=el.getStyle(prop)[prop])}clr=me.hexToRgb(clr||defaultColor)}var t=clr.replace(/\brgba\b|\brgb\b|\s|\(|\)/g,"").split(",");clr=t.length>=3?"rgba("+t[0]+","+t[1]+","+t[2]+","+opacity+")":"rgba(0,0,0,"+opacity+")",me.color=clr},Ripple}(Blend.Component);effect.Ripple=Ripple}(effect=material.effect||(material.effect={}))}(material=Blend.material||(Blend.material={}))}(Blend||(Blend={}));var Blend;!function(Blend){var dom;!function(dom){var ElementConfigBuilder=function(){function ElementConfigBuilder(config){var me=this,cfg={};cfg=Blend.isString(config)?{tag:config}:config,me.config=Blend.apply({tag:"div",cls:[],children:[],listeners:{},data:{},style:{},selectable:null},cfg,!0,!0)}return ElementConfigBuilder.prototype.addChild=function(child){var me=this;if(Blend.isInstanceOf(child,Blend.dom.ElementConfigBuilder))return me.config.children.push(child),child;var c=new Blend.dom.ElementConfigBuilder(child);return me.config.children.push(c),c},ElementConfigBuilder.prototype.setStyle=function(styles){var me=this;return Blend.forEach(styles,function(v,k){me.config.style[k]=v}),this},ElementConfigBuilder.prototype.setSelectable=function(state){return this.config.selectable=state,this},ElementConfigBuilder.prototype.setText=function(text){return this.config.text=text,this},ElementConfigBuilder.prototype.addCSS=function(css){var me=this;return css.forEach(function(itm){me.config.cls.push(itm)}),this},ElementConfigBuilder.prototype.setOID=function(oid){return this.config.oid=oid,this},ElementConfigBuilder.prototype.setTag=function(tag){return this.config.tag=tag,this},ElementConfigBuilder.prototype.getConfig=function(){return this.config},ElementConfigBuilder}();dom.ElementConfigBuilder=ElementConfigBuilder}(dom=Blend.dom||(Blend.dom={}))}(Blend||(Blend={}));var Blend;!function(Blend){var button;!function(button){var Button=function(_super){function Button(config){void 0===config&&(config={}),_super.call(this,config),this.wrapperElement=null,this.textElement=null,this.iconElement=null;var me=this;me.buttonTypes=["flat","raised","fab","fab-mini","round-flat","round-raised"],me.fabPositions=["top-right","top-center","top-left","center-right","center-center","center-left","bottom-right","bottom-center","bottom-left","relative"],me.iconSizes={small:18,medium:24,large:36,xlarge:48},me.config={text:config.text||"",icon:config.icon||null,iconFamily:config.iconFamily||"material-icons",iconAlign:me.getCheckIconAlign(config.iconAlign),buttonType:me.getCheckButtonType(config.buttonType),fabPosition:me.getCheckFabPosition(config.fabPosition),theme:config.theme||"default",disabled:config.disabled===!0,iconSize:config.iconSize||null,ripple:config.ripple!==!1}}return __extends(Button,_super),Button.prototype.setState=function(value){var me=this;return me.config.disabled=!value,value===!0?me.element.removeAttribute("disabled"):me.element.setAttribute("disabled",!0),me},Button.prototype.isEnabled=function(){return!this.config.disabled},Button.prototype.getCheclIconSize=function(iconSize){var me=this;return iconSize=iconSize||"default",iconSize=iconSize.inArray(Object.keys(me.iconSizes))?iconSize:"default","default"===iconSize?null:iconSize},Button.prototype.getCheckFabPosition=function(fabPosition){var me=this;return fabPosition=fabPosition||"relative",fabPosition=fabPosition.inArray(me.fabPositions)?fabPosition:"relative","relative"===fabPosition?null:fabPosition},Button.prototype.getCheckIconAlign=function(iconAlign){return iconAlign=iconAlign||"left",iconAlign.inArray(["left","right"])?iconAlign:"left"},Button.prototype.getCheckButtonType=function(buttonType){var me=this;return buttonType=buttonType||"flat",buttonType.inArray(me.buttonTypes)?buttonType:"flat"},Button.prototype.setTheme=function(theme){var me=this;return me.config.theme=theme||"default",me.performLayout(),me},Button.prototype.setButtonType=function(buttonType){var me=this;return me.config.buttonType=me.getCheckButtonType(buttonType),me.element.clearCssClass().addCssClass(["mb-btn"]),me.performLayout(),me},Button.prototype.setText=function(text){var me=this;return me.config.text=text,me.textElement.setHtml(text),me.performLayout(),this},Button.prototype.setIconSize=function(iconSize){var me=this,sizeCss="mb-btn-icon-size";return me.config.iconSize=me.getCheclIconSize(iconSize),me.element.removeCssClassLike([sizeCss]),null!==iconSize&&(me.element.addCssClass([sizeCss+"-"+me.config.iconSize]),me.performLayout()),this},Button.prototype.setIcon=function(icon){var me=this;return me.config.icon=icon,me.iconElement.setHtml(icon),me.performLayout(),this},Button.prototype.setFabPosition=function(fabPosition){var me=this,posCss="mb-"+me.config.buttonType+"-pos";return me.isFab()&&(me.config.fabPosition=me.getCheckFabPosition(fabPosition),me.element.removeCssClassLike([posCss]),me.element.addCssClass([posCss+"-"+me.config.fabPosition]),me.performLayout()),this},Button.prototype.updateLayout=function(){var me=this,themeCls="btn-theme-"+me.config.buttonType+"-"+me.config.theme,bothCls="mb-btn-"+me.config.buttonType+"-both",textOnlyCls="mb-btn-"+me.config.buttonType+"-text-only",iconOnlyCls="mb-btn-"+me.config.buttonType+"-icon-only",textIconCls="mb-btn-inner-texticon",iconTextCls="mb-btn-inner-icontext",hasIcon=null!==me.config.icon,hasText=""!==(me.config.text||"").trim(),roundOrFabButton=-1!==me.config.buttonType.indexOf("round")||-1!==me.config.buttonType.indexOf("fab");me.element.removeCssClass([textOnlyCls,iconOnlyCls,bothCls,themeCls]),me.wrapperElement.removeCssClass([textIconCls,iconTextCls]),me.isFab()||me.isRound()?(hasText=!1,hasIcon||(hasIcon=!0,me.setIcon("mood")),me.config.fabPosition&&me.isFab()&&me.setFabPosition(me.config.fabPosition),me.isRound()&&me.setIconSize(me.config.iconSize)):me.setIconSize(me.config.iconSize),hasText&&hasIcon?(me.element.addCssClass([bothCls]),"left"===me.config.iconAlign?me.wrapperElement.addCssClass(iconTextCls):"right"===me.config.iconAlign&&me.wrapperElement.addCssClass(textIconCls)):hasText?me.element.addCssClass([textOnlyCls]):hasIcon&&me.element.addCssClass([iconOnlyCls]),me.element.addCssClass([themeCls]),me.setState(!me.config.disabled),me.config.ripple===!0&&(me.rippleEffect=null,me.rippleEffect=new Blend.material.effect.Ripple({element:me.element,center:!!roundOrFabButton,color:roundOrFabButton?me.iconElement:me.textElement}))},Button.prototype.notifyClick=function(evt){var me=this;me.fireEvent("click",evt)},Button.prototype.initEvents=function(){var me=this;me.element.addEventListener("click",me.notifyClick.bind(me))},Button.prototype.isFab=function(){return-1!==this.config.buttonType.indexOf("fab")},Button.prototype.isRound=function(){return-1!==this.config.buttonType.indexOf("round")},Button.prototype.render=function(){var me=this,buttonEl=new Blend.dom.ElementConfigBuilder("button").addCSS(["mb-btn"]),innerEl=new Blend.dom.ElementConfigBuilder("span").setOID("wrapperElement").addCSS(["mb-btn-inner"]),txtEl=new Blend.dom.ElementConfigBuilder("span").setOID("textElement").addCSS(["mb-btn-text"]).setText(me.config.text),iconEl=new Blend.dom.ElementConfigBuilder("i").setOID("iconElement").addCSS(["mb-btn-icon",me.config.iconFamily]);return null!==me.config.icon&&iconEl.setText(me.config.icon),"left"===me.config.iconAlign&&(innerEl.addChild(iconEl),innerEl.addChild(txtEl)),"right"===me.config.iconAlign&&(innerEl.addChild(txtEl),innerEl.addChild(iconEl)),buttonEl.addChild(innerEl),Blend.dom.Element.create(buttonEl,me.assignElementByOID,me)},Button}(Blend.material.Material);button.Button=Button}(button=Blend.button||(Blend.button={}))}(Blend||(Blend={}));var Blend;!function(Blend){var container;!function(container){var Container=function(_super){function Container(){_super.apply(this,arguments)}return __extends(Container,_super),Container}(Blend.material.Material);container.Container=Container}(container=Blend.container||(Blend.container={}))}(Blend||(Blend={}));var Blend;!function(Blend){var material;!function(material){var Rectangle=function(_super){function Rectangle(config){void 0===config&&(config={}),_super.call(this,config);var me=this;me.setBounds({width:config.width||100,height:config.height||100}),me.setStyle({"background-color":config.color||"transparent",border:config.border===!0?"1px solid #000":null}),me.layoutCount=0}return __extends(Rectangle,_super),Rectangle.prototype.layoutView=function(){var me=this;me.layoutCount++},Rectangle.prototype.finalizeRender=function(){var me=this;_super.prototype.finalizeRender.call(this),me.addCssClass("m-rectangle")},Rectangle.prototype.log=function(){var me=this;me.element.setHtml("<pre>Layouts: "+me.layoutCount+"</pre>")},Rectangle}(Blend.material.Material);material.Rectangle=Rectangle,Blend.registerClassWithAlias("mb.rect",Blend.material.Rectangle)}(material=Blend.material||(Blend.material={}))}(Blend||(Blend={}));var Blend;!function(Blend){var mvc;!function(mvc){var Model=function(_super){function Model(config){void 0===config&&(config={}),_super.call(this,config),this.data=config,this.createProperties()}return __extends(Model,_super),Model.prototype.setData=function(data){var sname,me=this;Blend.forEach(data,function(value,name){sname="set"+name.ucfirst(),me.hasFunction(sname)&&me.applyFunction(sname,[value])})},Model.prototype.getData=function(){return this.data},Model.prototype.createProperties=function(){var sname,gname,me=this;Blend.forEach(me.data,function(value,name){gname="get"+name.ucfirst(),sname="set"+name.ucfirst(),me.hasFunction(gname)||(me[gname]=function(){return me.data[name]}),me.hasFunction(sname)||(me[sname]=function(data){return me.data[name]=data,me})})},Model}(Blend.Component);mvc.Model=Model}(mvc=Blend.mvc||(Blend.mvc={}))}(Blend||(Blend={}));var Blend;!function(Blend){var web;!function(web){var Application=function(_super){function Application(){_super.apply(this,arguments)}return __extends(Application,_super),Application}(Blend.application.Application);web.Application=Application}(web=Blend.web||(Blend.web={}))}(Blend||(Blend={}));